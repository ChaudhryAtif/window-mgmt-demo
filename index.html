<!DOCTYPE html><html lang="en">
<head>
  <title>Multi-Screen Window Placement Demo</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta name="theme-color" content="#757575"/>
</head>
<body>
<h3>Multi-Screen Window Placement Demo (<a href="https://github.com/michaelwasserman/window-placement-demo">GitHub</a>, <a href="https://www.chromestatus.com/feature/5252960583942144">ChromeStatus</a>)</h3>
<h4 id="warning" hidden=true style="color: red;"></h4>
<div class="controls">
  <div id="openWindowControls" style="display:flex; align-items:center;">
    <button id="openWindowButton">Open window</button>
    URL: <input id="openWindowUrlInput" style="flex-grow:1;" value="./popup.html"></input>
    left: <input id="openWindowLeftInput" style="width:50px;" size=5 value="100" type="number"></input>
    top: <input id="openWindowTopInput" style="width:50px;" size=5 value="50" type="number"></input>
    width: <input id="openWindowWidthInput" style="width:50px;" size=5 value="830" type="number"></input>
    height: <input id="openWindowHeightInput" style="width:50px;" size=5 value="750" type="number"></input>
  </div>
  <button id="updateScreensButton">Update screens</button>
  <!-- <button id="openWindowsButton">Open <input id="openWindowsCountInput" style="width:20px;padding:0px;margin:0px" size=2 value="5" type="number" min=1 max=9></input> windows</button> -->
  <div class="dropdown">
    <button id="toggleFullscreenButton">Toggle fullscreen</button>
    <div class="dropdownContent" hidden=true id="toggleFullscreenDropdown"></div>
  </div>
  <div class="dropdown">
    <button id="openSlideAndNotesWindowsButton">Open slide & notes</button>
    <div class="dropdownContent" hidden=true id="openSlideAndNotesWindowsDropdown">
      <button id="openSlideWindowButton">Slide window</button>
      <button id="openNotesWindowButton">Notes window</button>
    </div>
  </div>
  <div class="dropdown">
    <button id="fullscreenSlideButton">Fullscreen slide
      <iframe id="slideIframe" class="slide" src="./slide.html"></iframe>
    </button>
    <div class="dropdownContent" hidden=true id="fullscreenSlideDropdown"></div>
  </div>
  <div class="dropdown">
    <button id="fullscreenSlideAndOpenNotesWindowButton">Fullscreen slide and open notes</button>
    <div class="dropdownContent" hidden=true id="fullscreenSlideAndOpenNotesWindowDropdown"></div>
  </div>
</div>
<p></p>
<canvas id="screensCanvas" width="800" height="600" style="border-style: solid"></canvas>
<!-- Testing of iframe functionality and permissions:
  <iframe src="https://michaelwasserman.github.io/window-placement-demo/" style="width:800; height:600;" allow="fullscreen;window-placement"></iframe>
  <iframe src="https://permission.site" style="width:800; height:600;" allow="fullscreen;geolocation;window-placement"></iframe>
  <iframe src="about:blank" style="width:800; height:600;" allow="window-placement none"></iframe>
-->
</body>
<script src="main.js"></script>
<script>
'use strict';
window.addEventListener('load', () => {
  if ('serviceWorker' in navigator)
    navigator.serviceWorker.register('./sw.js');

  // Handle messages (e.g. fullscreen capability delegation from popup.html).
  window.addEventListener('message', handleWindowMessage);

  // Handle control button clicks and input events.
  openWindowButton.addEventListener('click', () => { openWindow(null); });
  openWindowControls.addEventListener('keyup', (e) => { if (e.key === "Enter") openWindow(null); });
  updateScreensButton.addEventListener('click', updateScreens);
  // openWindowsButton.addEventListener('click', openWindows);
  toggleFullscreenButton.addEventListener('click', toggleFullscreen);
  openSlideWindowButton.addEventListener('click', openSlideWindow);
  openNotesWindowButton.addEventListener('click', openNotesWindow);
  openSlideAndNotesWindowsButton.addEventListener('click', openSlideAndNotesWindows);
  fullscreenSlideButton.addEventListener('click', fullscreenSlide);
  fullscreenSlideAndOpenNotesWindowButton.addEventListener('click', fullscreenSlideAndOpenNotesWindow);
});
</script>
</html>
